<!-- Author: Yannik M. -->

<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="groups.js"></script>
    <script>
      
      
      function filter_list(){
        var list = document.getElementById("search_list");
        var arr = this.global_groups.sort(compareGroups);
        var name = document.getElementById("input_field").value;
        
        list.innerHTML = "";
        
        console.log("filter: " + name);
        
        for (var i = 0; i < global_groups.length; i++){
          
          if(arr[i].name.includes(name)){
            
            var item = document.createElement('li');
            item.innerHTML = arr[i].name;
            item.id = arr[i].name;
            item.onclick = function() {onGroupClicked(this.id);};
            
            list.appendChild(item);
            
          }
        }
        
        if(list.innerHTML == ''){
          list.appendChild(document.createTextNode('Keine Suchergebnisse gefunden'));
        }
      }
      
      function onGroupClicked(id){
        console.log(id);
        
        //show modal
        var modal = document.getElementById("modal");
        modal.style.display = "block";
      }
      
      function showAlert(id) {
        alert(id);
      }
      
      function closeModal(){
        var modal = document.getElementById("modal");
        modal.style.display = "none";
      }
      
      window.onload = function(){
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
          if (event.target == modal) {
            modal.style.display = "none";
          }
        }
      }
      
      
      
      
    </script>
    
  </head>
  
  <body>

    <div class="header">Reiter</div>
    
    <label style="position:relative; left:35%"><h1>Suche eine Gruppe: </h1></label>
    <input style="position:relative; left: 35%;" type="text" placeholder="Suchbegriff eingeben" name="uname" id ="input_field">
    <button onClick="filter_list()"  style="position:relative; left:40%">Suche</button>
    
    
    <div class="flex-container">
      <div class="menu desktop-2-cols phone-0-cols"></div>
      <div class="menu desktop-8-cols phone-12-cols">
    
        <ul id="search_list">
       
      </div>
      
    </div>
    
    
    
    <div class="footer">
      <p> 'Study Finder' ist schon ziemlich nice ~Aristoteles</p>
    </div>
    
    <!-- Modal -->
    <div id="modal" class="modal">
      
      <div class="modal-content">
        <span onclick="closeModal()" id="modalCloseButton" class="close">&times;</span>
        <p>Some text in the Modal..</p>
      </div>
    </div>
    
    
  </body>
</html>